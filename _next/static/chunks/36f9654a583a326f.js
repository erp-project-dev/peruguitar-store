(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49593,e=>{"use strict";function t(e,t){return`/catalog/${e}/${t}`}function a(e){return({new:"Nuevo",like_new:"Como nuevo"})[e]??e}e.s(["getCatalogImagePath",()=>t,"translateProductStatus",()=>a])},40433,e=>{"use strict";let t=(0,e.i(75254).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);e.s(["Pin",()=>t],40433)},33855,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(32039);class r{static handle(e={}){let{Merchants:t,Catalog:a,Brands:r,Types:n}=l.default,i=e.sort??"latest",s=[...a.filter(e=>e.is_enabled&&e.is_pinned),...a.filter(e=>e.is_enabled&&!e.is_pinned).sort((e,t)=>this.sortItems(e,t,i)).filter(this.buildFilter(e))].map(e=>{let a=t.find(t=>t.id===e.merchant_id);if(!a)throw Error(`DATA ERROR: Merchant not found for product ${e.id} (merchant_id: ${e.merchant_id})`);let l=r.find(t=>t.id===e.brand);if(!l)throw Error(`DATA ERROR: Brand not found for product ${e.id} (brand: ${e.brand})`);let i=n.find(t=>t.id===e.type);if(!i)throw Error(`DATA ERROR: Type not found for product ${e.id} (type: ${e.type})`);return{id:e.id,category:e.category,name:e.name,type:i,brand:l,model:e.model,status:e.status,statusScore:e.status_score,description:e.description,specs:e.specs,pic_1:e.pic_1,pic_2:e.pic_2,pic_3:e.pic_3,pic_4:e.pic_4,pic_6:e.pic_6,card_pic:e.card_pic,currency:e.currency,price:e.price,publishDate:new Date(e.publish_date),publishType:e.publish_type,isPinned:e.is_pinned,isEnabled:e.is_enabled,merchant:{id:a.id,fullName:`${a.name} ${a.last_name}`,whatsapp:a.whatsapp,instagram:a.instagram}}});return{total:s.length,items:s}}static buildFilter(e){return t=>(!e.brand||t.brand===e.brand)&&(!e.type||t.type===e.type)&&(null===e.minPrice||void 0===e.minPrice||!(t.price<e.minPrice))&&(null===e.maxPrice||void 0===e.maxPrice||!(t.price>e.maxPrice))}static sortItems(e,t,a){let l=new Date(e.publish_date).getTime(),r=new Date(t.publish_date).getTime();return"latest"===a?r-l:"oldest"===a?l-r:"price_desc"===a?t.price-e.price:"price_asc"===a?e.price-t.price:0}}class n{static handle(e={}){let{Brands:t}=l.default,a=[...t].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}));if(e?.onlyInCatalog){let{items:e}=r.handle(),t=new Set(e.map(e=>e.brand.id));a=a.filter(e=>t.has(e.id))}return a}}class i{static handle(e={}){let{Types:t}=l.default,a=[...t].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}));if(e?.onlyInCatalog){let{items:e}=r.handle(),t=new Set(e.map(e=>e.type.id));a=a.filter(e=>t.has(e.id))}return a}}var s=e.i(22016),o=e.i(40433),d=e.i(49593);let c={standard:"bg-slate-600/90 text-white border-slate-700",high_end:"bg-amber-600/90 text-white border-amber-700",signature:"bg-indigo-600/90 text-white border-indigo-700",rare:"bg-rose-600/90 text-white border-rose-700",discontinued:"bg-gray-800/90 text-white border-gray-900",limited:"bg-emerald-600/90 text-white border-emerald-700",vintage:"bg-orange-700/90 text-white border-orange-800",handcrafted:"bg-teal-700/90 text-white border-teal-800",boutique:"bg-purple-700/90 text-white border-purple-800"};function u(e){let a=e.isPinned?"border-2 border-dashed border-purple-700 shadow-purple-200":"",l=c[e.type.id];return(0,t.jsxs)(s.default,{href:e.id,className:`relative rounded-xl overflow-hidden shadow-md hover:shadow-sm transition cursor-pointer group ${a}`,children:[e.isPinned&&(0,t.jsx)("div",{className:"absolute top-3 left-3 z-20 bg-purple-700/90 p-1.5 rounded-full shadow-lg",children:(0,t.jsx)(o.Pin,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:`absolute top-3 right-3 z-20 px-2.5 py-1 rounded-full text-xs tracking-wide border shadow-md ${l}`,children:e.type.name}),(0,t.jsx)("img",{src:(0,d.getCatalogImagePath)(e.merchant.id,e.pic_1),alt:e.name,className:"w-full h-auto 2xl:h-[450px] xl:h-[350px] md:h-[350px] sm:h-[350px] object-cover group-hover:scale-105 transition-transform duration-500"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full p-4 bg-linear-to-t from-black/70 via-black/40 to-transparent",children:(0,t.jsxs)("div",{className:"relative h-14",children:[(0,t.jsx)("h2",{className:"absolute bottom-0 left-0 right-24 text-white font-semibold text-lg leading-none line-clamp-2 drop-shadow-md",children:e.name}),(0,t.jsx)("p",{className:"absolute bottom-0 right-0 inline-flex items-end text-yellow-400 font-bold text-lg leading-none whitespace-nowrap drop-shadow-md tabular-nums",children:e.price.toLocaleString("es-PE",{minimumFractionDigits:0,currency:e.currency,style:"currency"})})]})})]})}function p({label:e,children:a}){return(0,t.jsxs)("span",{className:"flex items-center gap-2 rounded-md bg-gray-800 text-gray-100 border border-gray-700 px-3 py-3 text-sm",children:[(0,t.jsxs)("span",{className:"font-bold whitespace-nowrap",children:[e,":"]}),a]})}let m={label:"Cualquiera",value:""};function h({brands:e,types:l,onChange:r,minPrice:n,maxPrice:i}){let[s,o]=(0,a.useState)("latest"),[d,c]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),x="latest"!==s||null!==d||null!==u||null!==g,f=e=>{r({sort:s,brand:d,type:u,minPrice:n,maxPrice:i,...e})};return(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 focus:outline-none focus:ring-1 focus:ring-gray-600",children:[(0,t.jsx)(p,{label:"Ordenar por",children:(0,t.jsxs)("select",{value:s,onChange:e=>{let t=e.target.value;o(t),f({sort:t})},className:"bg-transparent outline-none",children:[(0,t.jsx)("option",{value:"latest",children:"Más recientes"}),(0,t.jsx)("option",{value:"oldest",children:"Más antiguos"}),(0,t.jsx)("option",{value:"price_desc",children:"Mayor precio"}),(0,t.jsx)("option",{value:"price_asc",children:"Menor precio"})]})}),(0,t.jsx)(p,{label:"Marcas",children:(0,t.jsx)("select",{value:d??"",onChange:e=>{let t=e.target.value||null;c(t),f({brand:t})},className:"bg-transparent outline-none",children:[m,...e].map(({label:e,value:a})=>(0,t.jsx)("option",{value:a,children:e},a))})}),(0,t.jsx)(p,{label:"Cualidad",children:(0,t.jsx)("select",{value:u??"",onChange:e=>{let t=e.target.value||null;h(t),f({type:t})},className:"bg-transparent outline-none",children:[m,...l].map(({label:e,value:a})=>(0,t.jsx)("option",{value:a,children:e},a))})}),(0,t.jsx)(p,{label:"Rango de precio (S/)",children:(0,t.jsx)("select",{value:g??"",onChange:e=>{let t=e.target.value||null,a=null,l=null;b(t),t&&([a,l]=t.split(":").map(Number)),f({minPrice:a,maxPrice:l})},className:"bg-transparent outline-none",children:[m,...function(e,t){if(e>=t)return[];let a=[],l=e=>1e3*Math.ceil(e/1e3),r=e=>e.toLocaleString("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:0,maximumFractionDigits:0}),n=1e3*Math.floor(e/1e3),i=l(t),s=1e3*Math.ceil((i-n)/4/1e3),o=n;for(let e=0;e<4;e++){let t=3===e?i:o+s-1;if(t=l(t),o>i)break;t>i&&(t=i),a.push({label:`Entre ${r(o)} y ${r(t)}`,value:`${o}:${t}`}),o=t+1}return a}(n,i)].map(({label:e,value:a})=>(0,t.jsx)("option",{value:a,children:e},a))})}),x&&(0,t.jsx)("button",{onClick:()=>{let e={sort:"latest",brand:null,type:null,rangePrice:null};o(e.sort),c(null),h(null),b(null),r(e)},className:"text-sm text-gray-600 underline hover:text-gray-700 cursor-pointer",children:"Borrar filtros"})]})}function g(){let[e,l]=(0,a.useState)({sort:"latest",brand:null,type:null,minPrice:null,maxPrice:null}),s=(0,a.useMemo)(()=>r.handle({sort:"latest",brand:null,type:null,minPrice:null,maxPrice:null}),[]),o=(0,a.useMemo)(()=>r.handle(e),[e]),d=(0,a.useMemo)(()=>n.handle({onlyInCatalog:!0}),[]),c=(0,a.useMemo)(()=>i.handle({onlyInCatalog:!0}),[]),p=s.items.map(e=>e.price),m=p.length?Math.min(...p):0,g=p.length?Math.max(...p):0;return(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsx)(h,{brands:d.map(e=>({label:e.name,value:e.id})),types:c.map(e=>({label:e.name,value:e.id})),minPrice:m,maxPrice:g,onChange:l}),(0,t.jsx)("div",{className:" grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 ",children:o.items.map(e=>(0,t.jsx)(u,{...e},e.id))})]})}e.s(["default",()=>g],33855)}]);