(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10149,e=>{"use strict";var t=e.i(10824);class i{static handle(e={}){let i,{Merchants:r,Catalog:a,Brands:l,Types:n,Categories:d}=t.default,s=e.sort??"latest",c=this.buildFilter(e);if(e.ignorePinned){let e=a.filter(c);i="random"===s?this.shuffle(e):e.sort((e,t)=>this.sortItems(e,t,s))}else{let e=a.filter(e=>e.is_pinned).filter(c),t=a.filter(e=>!e.is_pinned).filter(c);i=[...e,..."random"===s?this.shuffle(t):t.sort((e,t)=>this.sortItems(e,t,s))]}let o=(e.limit&&e.limit>0?i.slice(0,e.limit):i).map(e=>{let t=r.find(t=>t.id===e.merchant_id);if(!t)throw Error(`DATA ERROR: Merchant not found for product ${e.id} (merchant_id: ${e.merchant_id})`);let i=l.find(t=>t.id===e.brand_id),a=n.find(t=>t.id===e.type_id),s=d.find(t=>t.id===e.category_id);if(!s)throw Error(`DATA ERROR: Category not found for product ${e.id} (category_id: ${e.category_id})`);return{...e,category:s,type:a,brand:i,publishDate:new Date(e.publish_date),merchant:{id:t.id,fullName:`${t.name} ${t.last_name}`,whatsapp:t.whatsapp,instagram:t.instagram}}});return{total:o.length,items:o}}static buildFilter(e){return t=>!(e.notIn&&e.notIn.includes(t.id))&&(!e.brand||t.brand_id===e.brand)&&(!e.type||t.type_id===e.type)&&(!t.price||(null===e.minPrice||void 0===e.minPrice||!(t.price<e.minPrice))&&(null===e.maxPrice||void 0===e.maxPrice||!(t.price>e.maxPrice)))&&!0}static sortItems(e,t,i){let r=new Date(e.publish_date).getTime(),a=new Date(t.publish_date).getTime();if("latest"===i)return a-r;if("oldest"===i)return r-a;if(e.price&&t.price){if("price_desc"===i)return t.price-e.price;if("price_asc"===i)return e.price-t.price}return 0}static shuffle(e){let t=[...e];for(let e=t.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}}e.s(["CatalogGetCommand",()=>i])},50240,e=>{"use strict";function t(e){return`/catalog/${e}`}e.s(["getCatalogImagePath",()=>t])},89689,e=>{"use strict";var t=e.i(43476),i=e.i(10149),r=e.i(22016);let a=(0,e.i(75254).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);var l=e.i(50240);let n={standard:"bg-slate-600 text-white",high_end:"bg-amber-600 text-white",signature:"bg-indigo-600 text-white",rare:"bg-rose-600 text-white",discontinued:"bg-gray-800 text-white",limited:"bg-emerald-600 text-white",vintage:"bg-orange-700 text-white",handcrafted:"bg-teal-700 text-white",boutique:"bg-purple-700 text-white"};function d({product:e,ignorePinned:i}){let d=e.is_pinned&&!i,s=e.type?n[e.type.id]:"";return(0,t.jsxs)(r.default,{href:e.id,className:`p-2 md:p-4 group block cursor-pointer rounded-2xl bg-white/35 hover:bg-white transition-shadow duration-300 hover:shadow-lg ${d?"md:outline-2 md:outline-purple-600 md:outline-dashed":""}`,children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl",children:[d&&(0,t.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-purple-600 p-1.5 rounded-full",children:(0,t.jsx)(a,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("img",{src:(0,l.getCatalogImagePath)(e.images[0]),alt:e.name,className:"w-full aspect-7/6 object-cover transition-transform duration-300 group-hover:scale-[1.1]"})]}),(0,t.jsxs)("div",{className:"space-y-1 py-4",children:[(0,t.jsx)("div",{className:"text-[11px] md:text-xs uppercase tracking-wide text-neutral-500",children:e.category.name}),(0,t.jsx)("h2",{className:"text-base md:text-lg font-semibold leading-snug line-clamp-2 text-neutral-900",children:e.name}),e.type&&(0,t.jsx)("div",{className:`inline-block text-[11px] md:text-xs px-2 py-1 rounded-md font-medium ${s}`,children:e.type.name}),e.price&&(0,t.jsx)("div",{className:"pt-1 md:pt-2 text-xl md:text-2xl font-bold text-neutral-900 tabular-nums",children:e.price.toLocaleString("es-PE",{minimumFractionDigits:0,currency:e.currency,style:"currency"})})]})]})}function s({sort:e="latest",notIn:r,limit:a}){let l=i.CatalogGetCommand.handle({sort:e,notIn:r,limit:a});return(0,t.jsx)("section",{className:"space-y-6",children:(0,t.jsx)("div",{className:"grid gap-2 md:gap-8 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:l.items.map(e=>(0,t.jsx)(d,{product:e,ignorePinned:!1},e.id))})})}e.s(["default",()=>s],89689)}]);