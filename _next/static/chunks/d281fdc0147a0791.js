(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50240,e=>{"use strict";function t(e){return`/catalog/${e}`}e.s(["getCatalogImagePath",()=>t])},89689,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(10824);class n{static handle(e={}){let t,{Merchants:i,Catalog:n,Brands:r,Types:l,Categories:s}=a.default,d=e.sort??"latest",o=this.buildFilter(e);if(e.ignorePinned){let e=n.filter(o);t="random"===d?this.shuffle(e):e.sort((e,t)=>this.sortItems(e,t,d))}else{let e=n.filter(e=>e.is_pinned).filter(o),i=n.filter(e=>!e.is_pinned).filter(o);t=[...e,..."random"===d?this.shuffle(i):i.sort((e,t)=>this.sortItems(e,t,d))]}let c=(e.limit&&e.limit>0?t.slice(0,e.limit):t).map(e=>{let t=i.find(t=>t.id===e.merchant_id);if(!t)throw Error(`DATA ERROR: Merchant not found for product ${e.id} (merchant_id: ${e.merchant_id})`);let a=r.find(t=>t.id===e.brand_id),n=l.find(t=>t.id===e.type_id),d=s.find(t=>t.id===e.category_id);if(!d)throw Error(`DATA ERROR: Category not found for product ${e.id} (category_id: ${e.category_id})`);return{id:e.id,category:d,name:e.name,type:n,brand:a,model:e.model,condition:e.condition,conditionScore:e.condition_score,description:e.description,specs:e.specs,images:e.images,card_pic:e.card_pic,currency:e.currency,price:e.price,publishDate:new Date(e.publish_date),isPinned:e.is_pinned,merchant:{id:t.id,fullName:`${t.name} ${t.last_name}`,whatsapp:t.whatsapp,instagram:t.instagram}}});return{total:c.length,items:c}}static buildFilter(e){return t=>!(e.notIn&&e.notIn.includes(t.id))&&(!e.brand||t.brand_id===e.brand)&&(!e.type||t.type_id===e.type)&&(null===e.minPrice||void 0===e.minPrice||!(t.price<e.minPrice))&&(null===e.maxPrice||void 0===e.maxPrice||!(t.price>e.maxPrice))}static sortItems(e,t,i){let a=new Date(e.publish_date).getTime(),n=new Date(t.publish_date).getTime();return"latest"===i?n-a:"oldest"===i?a-n:"price_desc"===i?t.price-e.price:"price_asc"===i?e.price-t.price:0}static shuffle(e){let t=[...e];for(let e=t.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}}class r{static handle(e={}){let{Brands:t}=a.default,i=[...t].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}));if(e?.onlyInCatalog){let{items:e}=n.handle(),t=new Set(e.map(e=>e.brand?.id));i=i.filter(e=>t.has(e.id))}return i}}class l{static handle(e={}){let{Types:t}=a.default,i=[...t].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}));if(e?.onlyInCatalog){let{items:e}=n.handle(),t=new Set(e.map(e=>e.type?.id));i=i.filter(e=>t.has(e.id))}return i}}var s=e.i(22016);let d=(0,e.i(75254).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);var o=e.i(50240);let c={standard:"bg-slate-600 text-white",high_end:"bg-amber-600 text-white",signature:"bg-indigo-600 text-white",rare:"bg-rose-600 text-white",discontinued:"bg-gray-800 text-white",limited:"bg-emerald-600 text-white",vintage:"bg-orange-700 text-white",handcrafted:"bg-teal-700 text-white",boutique:"bg-purple-700 text-white"};function m({product:e,ignorePinned:i}){let a=e.isPinned&&!i,n=e.type?c[e.type.id]:"",r=a?"text-purple-700":"text-neutral-900";return(0,t.jsxs)(s.default,{href:e.id,className:`p-2 md:p-4 group block cursor-pointer rounded-2xl bg-white/35 hover:bg-white transition-shadow duration-300 hover:shadow-lg ${a?"md:outline-2 md:outline-purple-600 md:outline-dashed":""}`,children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl",children:[a&&(0,t.jsx)("div",{className:"absolute top-2 left-2 z-10 bg-purple-600 p-1.5 rounded-full",children:(0,t.jsx)(d,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("img",{src:(0,o.getCatalogImagePath)(e.images[0]),alt:e.name,className:"w-full aspect-7/6 object-cover transition-transform duration-300 group-hover:scale-[1.1]"})]}),(0,t.jsxs)("div",{className:"space-y-1 py-4",children:[(0,t.jsx)("div",{className:"text-[11px] md:text-xs uppercase tracking-wide text-neutral-500",children:e.category.name}),(0,t.jsx)("h2",{className:`text-base md:text-lg font-semibold leading-snug line-clamp-2 ${r}`,children:e.name}),e.type&&(0,t.jsx)("div",{className:`inline-block text-[11px] md:text-xs px-2 py-1 rounded-md font-medium ${n}`,children:e.type.name}),(0,t.jsx)("div",{className:"pt-1 md:pt-2 text-xl md:text-2xl font-bold text-neutral-900 tabular-nums",children:e.price.toLocaleString("es-PE",{minimumFractionDigits:0,currency:e.currency,style:"currency"})})]})]})}function u({sort:e="latest",notIn:a,limit:s}){let[d,o]=(0,i.useState)({sort:e,brand:null,type:null,minPrice:null,maxPrice:null,notIn:a,limit:s}),c=(0,i.useMemo)(()=>n.handle(d),[d]);(0,i.useMemo)(()=>r.handle({onlyInCatalog:!0}),[]),(0,i.useMemo)(()=>l.handle({onlyInCatalog:!0}),[]);let u=c.items.map(e=>e.price);return u.length,u.length,(0,t.jsx)("section",{className:"space-y-6",children:(0,t.jsx)("div",{className:"grid gap-2 md:gap-8 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:c.items.map(e=>(0,t.jsx)(m,{product:e,ignorePinned:!1},e.id))})})}e.s(["default",()=>u],89689)}]);